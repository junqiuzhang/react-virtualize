var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(r,t,n)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,u=(e,r)=>{for(var t in r||(r={}))o.call(r,t)&&i(e,t,r[t]);if(n)for(var t of n(r))l.call(r,t)&&i(e,t,r[t]);return e};import c,{useState as p,useRef as a,useEffect as s}from"react";const f={position:"absolute"};export default e=>{const[n,o]=p(0),l=a(null),i=a([]),h=a(0),m=e.height,d=()=>{var r;const t=null!=(r=e.itemCount)?r:0,n=[0];let l=0;for(let o=0;o<t;o++)"function"==typeof e.itemSize?l+=e.itemSize(o):"number"==typeof e.itemSize&&(l+=e.itemSize),n.push(l);i.current=n,o((e=>e+1))};return s((()=>{o((e=>e+1))}),[l.current]),s((()=>{d()}),[e.reRenderCount]),c.createElement("div",{ref:l,style:{width:`${e.width}px`,height:`${e.height}px`,overflow:"auto"},onScroll:()=>{var e,r;const t=null!=(r=null==(e=l.current)?void 0:e.scrollTop)?r:0,n=t-h.current;n<m&&n>-m||(h.current=t,d())}},c.createElement("div",{style:{position:"relative",height:`${i.current[i.current.length-1]}px`}},(()=>{var n,o,c;const p=null!=(n=e.itemCount)?n:0,a=[];if(!l.current)return[];if(!e.renderItem)return[];const s=l.current.scrollTop+(1+(null!=(o=e.preRenderPageCount)?o:1))*e.height,h=l.current.scrollTop-(null!=(c=e.preRenderPageCount)?c:1)*e.height;for(let l=0;l<p;l++){const n=i.current[l],o=i.current[l+1];n<s&&o>h&&a.push(e.renderItem({index:l,style:(m=u({},f),d={top:`${n}px`},r(m,t(d)))}))}var m,d;return a})()))};
