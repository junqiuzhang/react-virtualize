var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,c=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,l=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&c(e,r,t[r]);if(n)for(var r of n(t))i.call(t,r)&&c(e,r,t[r]);return e};import u,{useState as p,useRef as s,useEffect as a}from"react";const f={position:"absolute"};export default e=>{const[n,o]=p(0),i=s(null),c=s([]),h=s(0),m=e.height,b=()=>{const t=e.itemCount||0,r=[0];let n=0;for(let o=0;o<t;o++)"function"==typeof e.itemSize?n+=e.itemSize(o):"number"==typeof e.itemSize&&(n+=e.itemSize),r.push(n);c.current=r,o((e=>e+1))};return a((()=>{o((e=>e+1))}),[i.current]),a((()=>{b()}),[e.reRenderItem]),u.createElement("div",{ref:i,style:{width:`${e.width}px`,height:`${e.height}px`,overflow:"auto"},onScroll:()=>{var e,t;const r=null!=(t=null==(e=i.current)?void 0:e.scrollTop)?t:0,n=r-h.current;n<m&&n>-m||(h.current=r,b())}},u.createElement("div",{style:{position:"relative",height:`${c.current[c.current.length-1]}px`}},(()=>{const n=e.itemCount||0,o=[];if(!i.current)return[];if(!e.renderItem)return[];for(let s=0;s<n;s++){const n=c.current[s],a=c.current[s+1]-c.current[s];n<i.current.scrollTop+2*e.height&&n+a>i.current.scrollTop-e.height&&o.push(e.renderItem({index:s,style:(u=l({},f),p={top:`${n}px`},t(u,r(p)))}))}var u,p;return o})()))};
